2022-10-21 Riddler Classic
==========================
There are
${54\choose 16}16! = 54!/38! = 441364655428084750602240000 \approx 4.4e26$
possible boards, which is much more than 1000.

For a given board, there is a 16/54 probability that the first card is on
the board.

If the first card is not on the board, it cannot be a winner with the fourth
card, and can only be a winner if there are four cards on the board after the
fifth card.  The probability of having four cards on the board after the
fifth card is
$38/54 \times 16/53 \times 15/52 \times 14/51 \times 13/50 = 532/121635$.

If the first card is on the board and the second card is not on the board,
the probability of having four cards on the board after the fifth card is
$16/54 \times 37/53 \times 15/52 \times 14/51 \times 13/50 = 518/121635$.

Similarly, the probability of having four cards on the board without having
the third card is 504/121635.

The probability of having four cards on the board without having the fourth
card is 490/121635.

In total, the probability of having four cards on the board after the fifth
card while having three cards on the board after the fourth card is
2044/121635.

The probability of having four cards on the board after the fourth card is
140/24327.

Let $p$ be the probability of being a winner with four cards on the board.

Let $q$ be the probability of the fifth draw making a
winner, given four non-winning cards on the board.

Let $P$ be the probability of a single given board not winning with the
fourth card and winning with the fifth card.

$$ P = 2044p/121635 + 140(1-p)q/24327 $$

Then, if there are 1000 boards, the probability of a single winner with
the fifth card is

$$ P((1-P)^{999} - (1 - 140p/24327)^{999}) $$

Calculating $p$
---------------
To calculate $p$, the chance of a row or a column is
$1 \times 3/15 \times 2/14 \times 1/13 = 1/455$.

The chance of four corners is
$4/16 \times 3/15 \times 2/14 \times 1/13 = 1/1820$.

The chance of a 2x2 square with the first card being a corner is
$4/16 \times 3/15 \times 2/14 \times 1/13 = 1/1820$.

The chance of a 2x2 square with the first card being an edge is
$8/16 \times (4/15 \times 2/14 \times 1/13 + 1/15 \times (4/14 \times 1/13)) = 1/455$.

The chance of a 2x2 square with the first card being in the middle four is
$4/16 \times (4/15 \times 2/14 \times 1/13 + 4/15 \times 4/14 \times 1/13) = 1/455$.

The chance of a 2x2 square is 9/1820.

That makes $p = 18/1820 = 9/910$.

Calculating $q$
---------------
Let $r$ be the probability that 3 of 4 cards on the board form 3/4th of
a winning pattern.  Only one of the remaining 50 cards will finish the
pattern.  $q = r/50$.

Calculating $r$
---------------
