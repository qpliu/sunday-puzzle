2024-05-31 Fiddler
==================
Let $f(s)$ be the average result for a segment of length $s$.

$$ f(s) = \int_0^1 dt\space\left(s^2t(1-t) + f(st) + f(s(1-t))\right) $$

Since $\int_0^1 dt\space f(st) = \int_0^1 dt\space f(s(1-t))$,

$$
\begin{aligned}
  f(s) &= s^2(1/2 - 1/3) + 2\int_0^1 dt\space f(st) \\
       &= s^2/6 + 2\int_0^1 dt\space((st)^2/6 + 2\int_0^1 dt'\space f(stt')) \\
       &= s^2/6(1 + 2/3) + 4\int_0^1 dt\int_0^1 dt'\space ((stt')^2/6 + 2\int_0^1 dt''\space f(stt't'')) \\
       &= s^2/6\space (1 + 2/3 + 4/9 + \ldots) \\
       &= s^2/2
\end{aligned}
$$

This gives $f(1) = 1/2$.

[Simulations](20240531.go) agree.

Extra credit
------------
Define the average of $x$ as

$$ \langle x\rangle = 2\int_0^1 ds\int_0^{1-s} dt\space x $$

so

$$
\begin{aligned}
    \langle 1\rangle &= 2\int_0^1 ds\int_0^{1-s} dt = 1 \\
    \langle a\rangle &= 2\int_0^1 ds\int_0^{1-s} dt\space Ls \\
                     &= 2\int_0^1 ds\space Ls(1-s) = L/3 \\
    \langle b\rangle &= 2\int_0^1 ds\int_0^{1-s} dt\space Lt \\
                     &= 2\int_0^1 ds\space L(1-s)^2/2 = L/3 \\
    \langle c\rangle &= 2\int_0^1 ds\int_0^{1-s} dt\space L(1-s-t) \\
                     &= 2\int_0^1 ds\space L((1-s)^2-(1-s)^2/2) = L/3 \\
\end{aligned}
$$

Then

$$
    \langle g(L)\rangle = 2\int_0^1 ds\int_0^{1-s} dt \left(L^3st(1-s-t)
                + \langle g(L(1-s)) + g(L(1-t)) + g(L(s+t))
                        - g(Ls) - g(Lt) - g(L(1-s-t)) \rangle\right)
$$

By symmetry,
$$
\begin{aligned}
    \langle g(L)\rangle
        &= 2\int_0^1 ds\int_0^{1-s} dt \left(L^3st(1-s-t)
                + \langle 3g(L(1-s))\rangle - \langle 3g(Ls)\rangle\right) \\
        &= 2\int_0^1 ds\space \left(L^3s(1-s)^3/2 - L^3s(1-s)^3/3
                + 3(1-s)\langle g(L(1-s))\rangle
                - 3(1-s)\langle g(Ls)\rangle\right)) \\
        &= L^3/60 + 2\int_0^1 ds 3(1-s) \left(
	        L^3(1-s)^3/60 - L^3s^3/60
              + 2\int_0^1 ds'\left(
                    3(1-s')\langle g(L(1-s)(1-s'))\rangle
                  - 3(1-s')\langle g(L(1-s)s')\rangle
                  - 3(1-s')\langle g(Ls(1-s'))\rangle
                  + 3(1-s')\langle g(Lss')\rangle
                \right)
            \right)
        &= L^3/60\space(1 + 9/10) + 4\int_0^1 ds \int_0^1 ds' 9(1-s)(1-s')
                \left(
                    \langle g(L(1-s)(1-s'))\rangle
                  - \langle g(L(1-s)s')\rangle
                  - \langle g(Ls(1-s'))\rangle
                  + \langle g(Lss')\rangle
                \right)
        &= L^3/60\space(1 + 9/10 + 81/100) + 8\int_0^1 ds \int_0^1 ds' \int_0^1 ds'' 27(1-s)(1-s')(1-s'')
                \left(
                    \langle g(L(1-s)(1-s')(1-s''))\rangle
                  - \langle g(L(1-s)(1-s')s'')\rangle
                  - \langle g(L(1-s)s'(1-s''))\rangle
                  + \langle g(L(1-s)s's'')\rangle
                  - \langle g(L(1-s)s'(1-s''))\rangle
                  + \langle g(L(1-s)s's'')\rangle
                  - \langle g(Ls(1-s')(1-s''))\rangle
                  + \langle g(Ls(1-s')s'')\rangle
                  + \langle g(Lss'(1-s''))\rangle
                  - \langle g(Lss's'')\rangle
                \right)
        &= L^3/6
\end{aligned}
$$

which gives $\langle g(1)\rangle = 1/6$.

[Simulations](20240531.go) don't contradict this, but is too slow to run with
sufficient recursive depth to confirm.
